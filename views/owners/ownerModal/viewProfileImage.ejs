<% owners.forEach(owner => { %>
  <% 
    let imgSrc = owner.profileImage; 
    if (imgSrc && !imgSrc.startsWith('/uploads/')) imgSrc = '/uploads/' + imgSrc; 
  %>

  <div class="modal fade" id="viewProfileImage-<%= owner._id %>" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-sm">
      <div class="modal-content border border-success rounded-4 shadow-lg">

        <div class="modal-body text-center p-4">

             <img src="<%= imgSrc || '/uploads/defaultUser.png' %>"
              alt="<%= owner.firstName %> <%= owner.lastName %>"
              class="rounded-circle border border-3 shadow-sm
                <%= owner.status === 'Inactive' ? 'border-danger' : 'border-success' %>"
              style="width:150px; height:150px; object-fit:cover;">

          <h6 class="fw-bold mt-3 mb-0 
            <%= owner.status === 'Inactive' ? 'text-danger' : 'text-success' %>">
            <%= owner.firstName %> <%= owner.lastName %>
          </h6>

          <small class="text-muted d-block">
            ID: <%= owner.ownerId %>
          </small>
        </div>

        <div class="modal-footer justify-content-center border-0 pb-3">
          <button 
            type="button" 
            class="btn btn-sm rounded-pill 
              <%= owner.status === 'Inactive' ? 'btn-danger' : 'btn-success' %>" 
            data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
<% }) %>
